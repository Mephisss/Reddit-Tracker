<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reddit Tracker</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'reddit-orange': '#FF4500',
                        'reddit-dark': '#1A1A1B',
                        'reddit-darker': '#121212',
                        'reddit-border': '#343536',
                        'reddit-text': '#D7DADC',
                        'reddit-muted': '#818384',
                        'gold': '#C9B896'
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&display=swap');
        body { font-family: 'Space Mono', monospace; }
    </style>
</head>
<body class="bg-reddit-darker text-reddit-text min-h-screen">
    <nav class="bg-reddit-dark border-b border-reddit-border px-6 py-4">
        <div class="max-w-7xl mx-auto flex items-center justify-between">
            <h1 class="text-2xl font-bold text-white">
                <span class="text-reddit-orange">Reddit</span> Tracker
            </h1>
            <p class="text-reddit-muted text-sm">Monitoring {{ users|length }} account{{ 's' if users|length != 1 else '' }}</p>
        </div>
    </nav>

    <main class="max-w-7xl mx-auto px-6 py-8">
        {% if users %}
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {% for user in users %}
            <a href="/user/{{ user.username }}" class="block bg-reddit-dark border border-reddit-border rounded-lg p-6 hover:border-reddit-orange transition-colors">
                <div class="flex items-center gap-4 mb-4">
                    <div class="w-12 h-12 bg-reddit-orange rounded-full flex items-center justify-center text-white font-bold text-xl">
                        {{ user.username[0].upper() }}
                    </div>
                    <div>
                        <h2 class="text-lg font-bold text-white">u/{{ user.username }}</h2>
                        <p class="text-reddit-muted text-sm">Last updated: {{ user.last_updated[:16] }}</p>
                    </div>
                </div>
                
                <div class="grid grid-cols-3 gap-4 text-center">
                    <div>
                        <p class="text-2xl font-bold text-gold">{{ "{:,}".format(user.total_karma or 0) }}</p>
                        <p class="text-xs text-reddit-muted uppercase">Total Karma</p>
                    </div>
                    <div>
                        <p class="text-2xl font-bold text-reddit-text">{{ user.post_count or 0 }}</p>
                        <p class="text-xs text-reddit-muted uppercase">Posts</p>
                    </div>
                    <div>
                        <p class="text-2xl font-bold text-reddit-text">{{ user.comment_count or 0 }}</p>
                        <p class="text-xs text-reddit-muted uppercase">Comments</p>
                    </div>
                </div>
                
                <div class="mt-4 pt-4 border-t border-reddit-border flex justify-between text-sm">
                    <span class="text-reddit-muted">Post karma: {{ "{:,}".format(user.post_karma or 0) }}</span>
                    <span class="text-reddit-muted">Comment karma: {{ "{:,}".format(user.comment_karma or 0) }}</span>
                </div>
            </a>
            {% endfor %}
        </div>
        {% else %}
        <div class="text-center py-20">
            <h2 class="text-2xl font-bold text-white mb-4">No accounts being tracked</h2>
            <p class="text-reddit-muted mb-6">Run the monitor to start tracking a Reddit account:</p>
            <code class="bg-reddit-dark px-4 py-2 rounded border border-reddit-border">
                python reddit_monitor.py USERNAME
            </code>
        </div>
        {% endif %}
    </main>

    <footer class="border-t border-reddit-border mt-auto py-4">
        <p class="text-center text-reddit-muted text-sm">
            Reddit Tracker â€¢ 
            <a href="https://github.com/yourusername/reddit-tracker" class="hover:text-reddit-orange transition-colors">GitHub</a>
        </p>
    </footer>
</body>
</html>
